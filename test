/**
 * Скрива (hidden) всички table-rows извън текущия range,
 * но само когато days > 10. Последните 10 винаги остават видими.
 */
function updateTableRows(days) {
  // всички редове, без header-а
  const rows = Array.from(
    document.getElementById('recordsTable')
            .getElementsByTagName('tr')
  ).slice(1);
  const n = rows.length;

  if (days > 10) {
    // index от k до n-1 ще са видими, където k = n - days
    const k = n - days;
    rows.forEach((tr, i) => {
      // ако i < k – скрий, иначе – покажи
      tr.hidden = i < k;
    });
  } else {
    // days ≤ 10: не пипаме таблицата – махаме hidden на всички
    rows.forEach(tr => tr.hidden = false);
  }
}


function onDaysChange() {
  const days = parseInt(slider.value, 10);
  label.textContent = days;

  updateContainerWidth(days);
  updateTableRows(days);    // <— добавяш го тук
  renderElapsedChart();     // вече той рисува графиката
}
